<!doctype html>
<html ng-app="rtmms">
<head>
    <title>RTMMS</title> 
	<link rel="stylesheet" href="dist/css/style.min.css">
	<link rel="stylesheet" href="libs/angular-dialog-service/dist/dialogs.min.css">
	<script src="dist/js/app.min.js"></script> 
	<script src="libs/file-saver.js/FileSaver.js"></script> 
</head>
<body ng-controller="MainController">
	<div class="container-fluid">
		<div class="logo row">
			<h1><a ui-sref="/">RTMMS</a></h1>
		</div>

		<!-- HEADER -->
		<nav class="navbar navbar-default" >
			<% if (user && user.userTypes.id === 4) { %>
				<ul class="nav navbar-nav" >
					<li ng-class="{active: $state.includes('/')}"><a ui-sref="/">Home</a></li>
					<li ng-class="{active: $state.includes('/rosetta')}"><a ui-sref="/rosetta">Rosetta</a></li>
					<li ng-class="{active: $state.includes('/hRtm')}"><a ui-sref="/hRtm">hRTM</a></li>
					<li class="dropdown" dropdown on-toggle="toggled(open)">
				  	    <a href class="dropdown-toggle" dropdown-toggle>Units<span class="caret"></span></a>
						<ul class="dropdown-menu">
					        <li ng-class="{active: $state.includes('/unitGroups')}"><a ui-sref="/unitGroups">Unit Groups</a></li>
					        <li ng-class="{active: $state.includes('/units')}"><a ui-sref="/units">Units</a></li>
					    </ul>
					</li>
					<li class="dropdown" dropdown on-toggle="toggled(open)">
				  	    <a href class="dropdown-toggle" dropdown-toggle>Enumeration<span class="caret"></span></a>
				      <ul class="dropdown-menu">
				        <li ng-class="{active: $state.includes('/enumGroups')}"><a ui-sref="/enumGroups">Enumeration Groups</a></li>
				        <li ng-class="{active: $state.includes('/enumValues')}"><a ui-sref="/enumValues">Enumeration Values</a></li>
				      </ul>
				    </li>
				</ul>
				<ul class="nav navbar-nav" style="float: right">
					<li ng-class="{active: ($state.includes('/profile'))}" class="dropdown" dropdown on-toggle="toggled(open)">
				  	    <a href class="dropdown-toggle" dropdown-toggle>
				        <%= user.username %> (<%= user.userTypes.usertype %>)<span class="caret"></span>
				      </a>
				      <ul class="dropdown-menu">
				        <li><a ui-sref="/profile">Profile</a></li>
				        <li><a ui-sref="/users">Users</a></li>
				        <li><a href="/logout">Logout</a></li>
				      </ul>
				    </li>
				</ul>
			<%}else{ %>
				<ul class="nav navbar-nav" >
					<li ng-class="{active: $state.includes('/')}"><a ui-sref="/">Home</a></li>
					<% if (user && ( user.userTypes.id === 1 ) ) { %>
					<li  ng-class="{active: $state.includes('/myRosetta')}"><a ui-sref="/myRosetta">My Rosetta </a></li>

					<%} %>
					<% if (user && ( user.userTypes.id === 3 ) ) { %>
					<li  ng-class="{active: $state.includes('/coRosetta')}"><a ui-sref="/coRosetta">Contributing Organization Rosetta</a></li>
					<li  ng-class="{active: $state.includes('/co')}"><a ui-sref="/co">Contributing Organization </a></li>
					<li  ng-class="{active: $state.includes('/termApproval')}"><a ui-sref="/termApproval">Term Approval </a></li>
					<li  ng-class="{active: $state.includes('/x73')}"><a ui-sref="/x73">X73 </a></li>
					<%} %>
					<li ng-class="{active: $state.includes('/rosetta')}"><a ui-sref="/rosetta">Rosetta</a>{{user}}</li>
					<li ng-class="{active: $state.includes('/hRtm')}"><a ui-sref="/hRtm">hRTM</a></li>
					<li class="dropdown" dropdown on-toggle="toggled(open)">
				  	    <a href class="dropdown-toggle" dropdown-toggle>Units<span class="caret"></span></a>
						<ul class="dropdown-menu">
					        <li ng-class="{active: $state.includes('/unitGroups')}"><a ui-sref="/unitGroups">Unit Groups</a></li>
					        <li ng-class="{active: $state.includes('/units')}"><a ui-sref="/units">Units</a></li>
					    </ul>
					</li>
					<li class="dropdown" dropdown on-toggle="toggled(open)">
				  	    <a href class="dropdown-toggle" dropdown-toggle>Enumeration<span class="caret"></span></a>
				      <ul class="dropdown-menu">
				        <li ng-class="{active: $state.includes('/enumGroups')}"><a ui-sref="/enumGroups">Enumeration Groups</a></li>
				        <li ng-class="{active: $state.includes('/enumValues')}"><a ui-sref="/enumValues">Enumeration Values</a></li>
				      </ul>
				    </li>
				</ul>
				<ul class="nav navbar-nav" style="float: right" >
					
					<% if (user) { %>
						<ul class="nav navbar-nav" style="float: right">
					<li ng-class="{active: ($state.includes('/profile'))}" class="dropdown" dropdown on-toggle="toggled(open)">
				  	    <a href class="dropdown-toggle" dropdown-toggle>
				        <%= user.username %> (<%= user.userTypes.usertype %>)<span class="caret"></span>
				      </a>
				      <ul class="dropdown-menu">
				        <li><a ui-sref="/profile">Profile</a></li>
				        <li><a href="/logout">Logout</a></li>
				      </ul>
				    </li>
				</ul>
					<% }else{ %>
						<li ng-class="{active: $state.includes('/login')}"><a ui-sref="/login">Login</a></li>
						<li ng-class="{active: $state.includes('/signup')}"><a ui-sref="/signup">Sign Up</a></li>
					<%}%>

				</ul>
			<%}%>	
		</nav>

		<div ui-view></div>
		<footer><div class="row"><div class="col-sm-6 text-left">Comments, questions or request? <a ui-sref="/contact">contact us<i class="fa fa-email"></i></a></div><div class="col-sm-6 text-right"></div></div></footer>
	</div>
</body>

</html>
